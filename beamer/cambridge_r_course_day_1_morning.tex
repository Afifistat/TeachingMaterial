\documentclass{beamer}
\usetheme{CambridgeUS}
\usepackage{color}

\title[Cambridge R Course]{A beginner's guide\\to solving biological problems\\in R}
\subtitle{Day 1 Morning\\}
\author[]{Robert Stojni\'{c} (rs550) \and Laurent Gatto (lg390) \and Rob Foy (raf51) \and John Davey (jd626)}
\date[]{Course materials: \url{http://logic.sysbiol.cam.ac.uk/teaching/Rcourse/}\\Slides by Ian Roberts and Robert Stojni\'{c}}
\begin{document}
\begin{frame}
    \titlepage
\end{frame}


\begin{frame}{Day 1 Schedule}

\begin{itemize}
  \item The R environment and basics
  \begin{itemize}
      \item Where to get R
      \item Brief introduction to essential R
      \item R help, scripting and packages
  \end{itemize}
\end{itemize}
\textcolor{green}{Morning coffee}
\begin{itemize}
  \item Objects and data types
  \begin{itemize}
      \item Learn how to input and manipulate data
  \end{itemize}
\end{itemize}
\textcolor{green}{Lunch}
\begin{itemize}
    \item Introduction to essential R commands
    \begin{itemize}
        \item Base functions
        \item Read and write data
    \end{itemize}
\end{itemize}
\textcolor{green}{Afternoon coffee}
\begin{itemize}
    \item R for data analysis
    \begin{itemize}
        \item Statistical tests and maths support
    \end{itemize}
\end{itemize}

\end{frame}

\begin{frame}{What's R?}
    \begin{itemize}
        \item A statistical programming environment
        \begin{itemize}
            \item based on S
            \item Suited to high level data analysis
        \end{itemize}
        \item Open source \& cross platform
        \item Extensive graphics capabilities
        \item Diverse range of add-on packages
        \item Active community of developers
        \item Thorough documentation
    \end{itemize}
\end{frame}

\begin{frame}{The environment and basics}
\end{frame}

\begin{frame}{Screenshot}
\end{frame}


\begin{frame}{Various platforms supported}
    \begin{itemize}
        \item Release 2.15.0 (March 2012)
        \begin{itemize}
            \item Base package
            \item Contributed packages (general purpose extras)
            \item  Over 4000 packages available
        \end{itemize}
        \item Windows
        \begin{itemize}
            \item \url{http://www.stats.bris.ac.uk/R/bin/windows/base/R-2.11.1-win32.exe}
        \end{itemize}
        \item Mac OS (10.2+)
            \begin{itemize}
                \item \url{http://cran.r-project.org/bin/macosx/}
            \end{itemize}
        \item Linux
            \begin{itemize}
                \item \url{http://cran.r-project.org/bin/linux/}
            \end{itemize}
        \item Executed using command line, or a graphical user interface
        \begin{itemize}
            \item Will demonstrate both, and use all-platform GUI, RStudio
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}{Getting Started}
    \begin{itemize}
        \item R is a program which, once installed on your system, can be launched and is immediately ready to take input directly from the user
        \item There are two ways to launch R:
        \begin{enumerate}
            \item From the command line (particularly useful if you're quite familiar with Linux)
            \item As an application called RStudio (very good for beginners)
        \end{enumerate}
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{Prepare to launch R}
    \framesubtitle{From command line}
    \begin{itemize}
        \item To start R in Linux we need to enter the Linux console (also called Linux terminal and Linux shell)
        \item To start R, at the prompt simply type:
        \begin{verbatim}
$ R\end{verbatim}
        \item If R doesn't print the welcome message, call us to help!
    \end{itemize}
\end{frame}

\begin{frame}{Prepare to launch R}
    \framesubtitle{Using RStudio}
    \begin{itemize}
        \item To launch RStudio, find the Rstudio icon in the menu bar on the left of the screen and double-click
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{The Working Directory (wd)}
    \begin{itemize}
        \item Like many programs R has a concept of a working directory (wd)
        \item It is the place where R will look for files to execute and where it will save files, by default
        \item For this course we need to set the working directory to the location of the course scripts
        \item At the command prompt in the terminal or in RStudio console type:
        \begin{verbatim}
> setwd("R_course/Day_1_scripts")\end{verbatim}
        \item Alternatively in RStudio use the mouse and browse to the directory location
        \item Tools - Set Working Directory - Choose Directory...
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{Basic concepts in R}
    \framesubtitle{command line calculation}
    \begin{itemize}
        \item The command line can be used as a calculator. Type:
        \begin{verbatim}
> 2 + 2
[1] 4

> 20/5 - sqrt(25) + 3^2
[1] 8

>sin(pi/2)
[1] 1\end{verbatim}
        \item Note: The number in the square brackets is an indicator of the position in the output. In this case the output is a vector of length 1 (i.e. a single number). More on vectors coming up...
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{Basic concepts in R}
    \framesubtitle{variables}
    \begin{itemize}
        \item A variable is a letter or word which takes (or contains) a value. We use the assignment `operator', {\tt <-}
        \begin{verbatim}
> x <- 10
> x
[1] 10
> myNumber <- 25
> myNumber
[1] 25 \end{verbatim}
\item We can perform arithmetic on variables:
\begin{verbatim}
> sqrt(myNumber)
[1] 5\end{verbatim}
\item We can add variables together:
\begin{verbatim}
> x + myNumber
[1] 35\end{verbatim}
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{Basic concepts in R}
    \framesubtitle{variables}
    \begin{itemize}
        \item We can change the value of an existing variable:
        \begin{verbatim}
> x <- 21
> x
[1] 21\end{verbatim}
        \item We can modify the contents of a variable:
\begin{verbatim}
> myNumber <- myNumber + sqrt(16)
[1] 29\end{verbatim}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Basic concepts in R}
    \framesubtitle{functions}
    \begin{itemize}
        \item \textbf{Functions} in R perform operations on \textbf{arguments} (the input(s) to the function). We have already used \textbf{sin(x)} which returns the sine of \textbf{x}. In this case the function has one argument, \textbf{x}. Arguments are \emph{always} contained in parentheses, i.e. curved brackets \textbf{()}, separated by commas.
        \item Some other common functions: \textbf{floor()}, \textbf{sum()}, \textbf{max()}, \textbf{mean()}
        \item Try these:
        \begin{verbatim}
> floor(3.142)
[1] 3
> sum(3, 4, 5, 6)
[1] 18
> max(3, 4, 5, 6)
[1] 6
> mean(3, 4, 5, 6)
[1] 3\end{verbatim}
        \item Something has gone wrong with the last function. We need to understand more about vectors...
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Basic concepts in R}
    \framesubtitle{vectors}
    \begin{itemize}
        \item The function \textbf{c()} \emph{combines} its arguments into a \textbf{vector}
        \begin{verbatim}
> x <- c(3, 4, 5, 6)
> x
[1] 3 4 5 6\end{verbatim}
        \item As mentioned, the square brackets \textbf{[]} indicate position within the vector. We can extract individual elements by using the \textbf{[]} notation.
        \begin{verbatim}
> x[1]
[1] 3
> x[4]
[1] 6
        \end{verbatim}
        \item We can even put a vector inside the square brackets.
        \begin{verbatim}
> y <- c(2, 3)
> x[y]
[1] 4 5\end{verbatim}
        \item We can now solve the problem from the previous slide:
        \begin{verbatim}
> mean(x)
[1] 4.5\end{verbatim}
    \end{itemize}
\end{frame}


\begin{frame}[fragile,shrink]{Basic concepts in R}
    \framesubtitle{vectors}
    \begin{itemize}
        \item There are a number of shortcuts to create a vector. Instead of:
        \begin{verbatim}
> x <- c(3, 4, 5, 6, 7, 8, 9, 10, 11, 12)\end{verbatim}
        \item write
        \begin{verbatim}
> x <- 3:12\end{verbatim}
        \item Using the \textbf{seq()} function...
        \begin{verbatim}
> x <- seq(2, 10, 2)
> x
[1] 2 4 6 8 10
> x <- seq(2, 10, length.out=7)
> x
[1] 2.00000 3.33333 4.66667 6.00000 7.33333 8.66667 10.00000\end{verbatim}
        \item or the \textbf{rep()} function
        \begin{verbatim}
> y <- rep(3, 5)
> y
[1] 3 3 3 3 3
> y <- rep(1:3, 5)
> y
[1] 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3\end{verbatim}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Basic concepts in R}
    \framesubtitle{vectors}
    \begin{itemize}
        \item We have seen some ways of extracting elements of a vector. We can use these shortcuts to make things easier (or more complex!)
        \begin{verbatim}
> x <- 3:12
> x[3:7]
[1] 5 6 7 8 9
> x[seq(2, 6, 2)]
[1] 4 6 8 
> x[rep(3, 2)]
[1] 5 5\end{verbatim}
        \item We can add an element to a vector
        \begin{verbatim}
> y <- c(x, 1)
> y
[1] 3 4 5 6 7 8 9 10 11 12 1\end{verbatim}
        \item We can glue vectors together
        \begin{verbatim}
> z <- c(x, y)
> z
[1] 3 4 5 6 7 8 9 10 11 12 3 4 5 6 7 8 9 10 11 12 1\end{verbatim}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Basic concepts in R}
    \framesubtitle{vectors}
    \begin{itemize}
        \item We can remove element(s) from a vector
        \begin{verbatim}
> x <- 3:12
> x[-3]
[1] 3 4 6 7 8 9 10 11 12
> x[-(5:7)]
[1] 3 4 5 6 10 11 12
> x[-seq(2, 6, 2)]
[1] 3 5 7 9 10 11 12\end{verbatim}
        \item Finally, we can modify the contents of a vector
        \begin{verbatim}
> x[6] <- 4
> x
[1] 3 4 5 6 7 4 9 10 11 12
> x[3:5] <- 1
> x
[1] 3 4 1 1 1 4 9 10 11 12\end{verbatim}
    \item Remember! \textbf{Square} brackets for indexing \textbf{[]}, \textbf{parentheses} for function arguments \textbf{()}.
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Basic concepts in R}
    \framesubtitle{vector arithmetic}
    \begin{itemize}
        \item When applying all standard arithmetic operations to vectors, application is element-wise.
        \begin{verbatim}
> x <- 1:10
> y <- x*2
> y
[1] 2 4 6 8 10 12 14 16 18 20
> z <- x^2
> z
[1] 1 4 9 16 25 36 49 64 81 100\end{verbatim}
        \item Adding two vectors
        \begin{verbatim}
> y + z
[1] 3 8 15 24 35 48 63 80 99 120\end{verbatim}
        \item Vectors don't have to be the same length (what's this?)...
        \begin{verbatim}
> x + 1:2
[1] 2 4 4 6 6 8 8 10 10 12\end{verbatim}
        \item but that doesn't always work:
        \begin{verbatim}
> x + 1:3 (...?)\end{verbatim}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Writing scripts with Rstudio}
Typing lots of commands directly to R can be tedious. A better way is to write the command to a file and then load it into R.
        \begin{itemize}
            \item Click on \textbf{File - New} in RStudio
            \item Type in some R code, e.g.
        \begin{verbatim}
    x <- 2 + 2
    print(x)\end{verbatim}
        \item Click on \textbf{Run} to execute the \textbf{current line}, and \textbf{Source} to execute the \textbf{whole script}.
        \item Sourcing can also be performed manually with {\tt source("myScript.R")}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Getting Help}
    \begin{itemize}
        \item To get help on any R function, type {\tt ?} followed by the function name. For example:
        \begin{verbatim}
> ?seq
        \end{verbatim}
        \item This retrieves the syntax and arguments for the function. It also tells you which \textbf{package} it belongs to. There will typically be example usage.
        \item If you can't remember the exact name type {\tt ??} followed by your guess. R will return a list of possibles.
        \begin{verbatim}
> ??rint
        \end{verbatim}

    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Interacting with the R console}
    \begin{itemize}
        \item R console symbols
        \begin{itemize}
            \item {\tt \;} end of line
            \begin{itemize}
                \item Enables multiple commands to be placed on one line of text
            \end{itemize}
            \item {\tt \#} comment
            \begin{itemize}
                \item indicates text is a comment and not executed
            \end{itemize}
            \item {\tt +} command line wrap
            \begin{itemize}
                \item R is waiting for you to complete an expression
            \end{itemize}        \end{itemize}

        \item \textbf{Ctrl-c} or \textbf{escape} to clear input and try again
        \item \textbf{Ctrl-l} to clear window
        \item Press {\tt q} to leave help (using R from the terminal)
        \item Use the \textbf{TAB key} for command auto completion
        \item Use \textbf{up and down arrows} to scroll through the command history

    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{R packages}
    \begin{itemize}
        \item R comes ready loaded with various libraries of functions called \textbf{packages}, e.g. the function \textbf{sum()} is in the \textbf{base} package and \textbf{sd()}, which calculates the standard deviation of a vector, is in the \textbf{stats} package
        \item There are 1000s of additional packages provided by third parties, and the packages can be found in numerous server locations on the web called \textbf{repositories}
        \item The two repositories you will come across the most are
        \begin{itemize}
            \item \textbf{The Comprehensive R Archive Network (CRAN)}
            \item Bioconductor
        \end{itemize}
        \item CRAN is mirrored in many locations. Set your local mirror in RStudio using Tools - Options, and choose a CRAN mirror
        \item Set the Bioconductor package download tool by typing:
        \begin{verbatim}
> source ("http://bioconductor.org/biocLite.R")\end{verbatim}
        \item Bioconductor packages are then loaded with the \textbf{biocLite()} function:
        \begin{verbatim}
> biocLite("PackageName")
        \end{verbatim}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{R packages}
    \begin{itemize}
        \item 3900+ packages on CRAN:
        \begin{itemize}
            \item Use CRAN search to find functionality you need:\\
            \url{http://cran.r-project.org/search.html}
            \item Or, look for packages by theme:\\
            \url{http://cran.r-project.org/web/views/}
        \end{itemize}
        \item 550+ packages in Bioconductor:
        \begin{itemize}
            \item Specialised in genomics:\\
            \url{http://www.bioconductor.org/packages/release/bioc/}
        \end{itemize}
        \item \textbf{Other repositories:}
        \item 1000+ projects on R-forge:\\
        \url{http://r-forge.r-project.org/}
        \item R graphical manual:\\
        \url{http://bg9.imslab.co.jp/Rhelp/}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Exercise: Install Packages Matrix and aCGH}
    \begin{itemize}
        \item Matrix is a CRAN extras package
        \begin{itemize}
            \item Use \textbf{install.packages()} function...
            \begin{verbatim}
install.packages("Matrix")\end{verbatim}
\item or in RStudio goto Tools - Install Packages... and type the package name
        \end{itemize}
        \item aCGH is a Bioconductor package (\url{www.bioconductor.org})
        \begin{itemize}
            \item Use \textbf{biocLite()} function
            \begin{verbatim}
biocLite("aCGH")\end{verbatim}
        \end{itemize}
        \item R needs to be told to use the new functions from the installed packages
        \begin{itemize}
            \item Use \textbf{library()} function to load the newly installed features
            \begin{verbatim}library("Matrix") # loads matrix functions\end{verbatim}
            \begin{verbatim}library("aCGH") # loads aCGH functions\end{verbatim}
            \item {\tt library()}
            \begin{itemize}
                \item Lists all the packages you've got installed locally
            \end{itemize}
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{MORNING COFFEE}
Morning coffee
\end{frame}

\begin{frame}[fragile,shrink]{OBJECTS}
Objects
\end{frame}

\begin{frame}[fragile,shrink]{R stores different types of data}
    \begin{itemize}
        \item Types of data
        \begin{itemize}
            \item Logical, integer, character, floating point
        \end{itemize}
        \item Data is stored in objects
        \begin{itemize}
            \item Vectors, data frames, matrices, arrays, lists
            \item Vector is the most basic object
        \end{itemize}
        \item Most appropriate type and value is determined by R syntax
        \begin{verbatim}
a <- 10    # takes the value of number 10
a <- "10"  # takes the value of characters "10"
a <- b     # takes the value of variable b
a <- "b"   # takes the value of character "b"\end{verbatim}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Data types and storage modes}
    \begin{itemize}
        \item R creates appropriately sized object variables to hold data
        \item Objects are vectors ... they have a length dimension ...
        \begin{itemize}
            \item Vectors support vector arithmetic, which is R's big thing
        \end{itemize}
        \item The `mode of storage' used is determined by the `data type'
        \item \emph{Mode} is one of
        \begin{itemize}
            \item logical, numeric, or character
        \end{itemize}
        \item Standard data \emph{types}
        \begin{itemize}
            \item \textbf{Logical}
            \begin{itemize}
                \item (TRUE or FALSE)
            \end{itemize}
            \item \textbf{Integer}
            \begin{itemize}
                \item (e.g. whole numbers -2 / +2 Billion)
            \end{itemize}
            \item \textbf{Double / floating point}
            \begin{itemize}
                \item (e.g. fractions, scientific expressions)
            \end{itemize}
            \item \textbf{Character string - always in quotes!}
            \begin{itemize}
                \item (e.g. 4 is a number, "4" or "abc" are characters)
            \end{itemize}
        \end{itemize}
    \end{itemize}
    
    \textbf{ADD BOX}
\end{frame}

\begin{frame}[fragile,shrink]{Exercise}
    \framesubtitle{Data types \& storage modes}
    \begin{itemize}
        \item Create vectors {\tt i}, {\tt l}, {\tt s} and {\tt d} of length 20 for each \emph{data type} integer, logical, character and double
        \item Examine their storage mode \& confirm data type
        \begin{itemize}
            \item {\tt mode(...)}
            \item {\tt typeof(...)}
        \end{itemize}
        \item Tips:
        \begin{itemize}
            \item you can do this by manually assigning values, or by generating them (see the functions below)
            \item {\tt sample(20)} will create a vector of 20 random integer values
            \item R special character object {\tt letters} is `builtin', you can subset it
            \item {\tt runif(20)} will generate 20 random uniformly distributed `double' values between 0 and 1
            \item relationshps are `tests' and return logical values (e.g. $2>1$ is TRUE, but $5<1$ is FALSE)
            \begin{itemize}
                \item {\tt 1 <- i >= 10 \# test if 'i' is greater or equal to 10}
            \end{itemize}
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Solution}
\begin{verbatim}
> i <- sample(20)‏
> i
[1]  6  1 14  8  5 10 18 12  2 11 16  3  4 20  9  7 19 13 15 17
> s <- letters[i]]
> s
[1] "f" "a" "n" "h" "e" "j" "r" "l" "b" "k" "p" "c" "d" "t" "i" "g" "s" "m" "o"
[20] "q"
> l <- i >= 10
> l
[1] FALSE FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE FALSE
[13] FALSE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE
> d <- runif(20)‏
> d
 [1] 0.292480127 0.586057481 0.812791710 0.189530051 0.634724719 0.882981055
 [7] 0.358151866 0.003088843 0.900198085 0.905947217 0.032231749 0.330297215
[13] 0.398237377 0.832774598 0.048503020 0.965920822 0.357567181 0.688554482
[19] 0.728918707 0.477420883
> mode(i)‏
[1] "numeric“
> typeof(i)‏
[1] "integer"
> mode(l)‏
[1] "logical"
> typeof(l)‏
[1] "logical"
> mode(s)‏
[1] "character"
> typeof(s)‏
[1] "character"
> mode(d)‏
[1] "numeric"
> typeof(d)‏
[1] "double"\end{verbatim}
\textbf{ADD COMMENTS}
\end{frame}

\begin{frame}[fragile,shrink]{Storage modes \& data types}
    \begin{itemize}
        \item Data types - why care?
        \begin{itemize}
            \item May get an undesired result if calculations are between numbers stored as different types
            \item R will coerce data types when calculations between differing types are forced
            \begin{itemize}
                \item If the operation is inappropriate, the calculation will fail:\\
                {\tt > 2 + "2"}\\
                will fail as we cannot add a character string to an integer!
            \end{itemize}
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{R Objects - vectors}
    \framesubtitle{{\tt c(...)} or {\tt vector(..., mode=...,length=...)}}
    \begin{itemize}
        \item Vectors
        \begin{itemize}
            \item one-dimensional sequence of data items of only one data type
        \end{itemize}
        \begin{verbatim}
> a <- c(1, 2, 3, 4, 5)
> typeof(a)‏
[1] "double"
> aa <- c(1, "2", 3)‏
> typeof(aa)

[1] "character"\end{verbatim}

        \item Vector arithmetic is a fundamental R concept 
        \begin{verbatim}
> a <- 1:10 ; b <- 101:110 ; c <- a + b
> a
[1]  1  2  3  4  5  6  7  8  9 10
> b
[1] 101 102 103 104 105 106 107 108 109 110
> c
[1] 102 104 106 108 110 112 114 116 118 120\end{verbatim}
        \item Arithmetic operation occurs between corresponding items of the two vectors. If vectors are different lengths, shortest is recycled.
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{R Objects}
    \framesubtitle{{\tt data.frame(var1=..., var2=..., etc.)}}
    \begin{itemize}
        \item Data frames
        \begin{itemize}
            \item multiple columns of vectors that form a table
            \item columns can be of different data types
        \end{itemize}
        \begin{verbatim}
> a <- 1:10 				# shortcut for numbers 1 to 10
> b <- letters[1:10] 		# shortcut for letters
> c <- month.name[1:10]	# shortcut for month names
> d <- data.frame(a, b, c, stringsAsFactors=FALSE)‏	# data frame assignment
> d
	   a    b   c		
1     1    a   January
2     2    b  February
3     3    c     March
4     4    d     April
5     5    e       May
6     6    f      June
7     7    g      July
8     8    h    August
9     9    i September
10    10   j   October\end{verbatim}
        \item Column names can be changed\\
        {\tt colnames(d) <- c("a", "b", "c")}
        \item Address columns with \$ notation \\
        {\tt d\$a \# returns only the column a (as a vector)}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{R Objects}
    \framesubtitle{{\tt matrix(..., ncol=..., nrow=...)}}
    \begin{itemize}
        \item Matrices
        \begin{itemize}
            \item Like data frames, but for a single data type
        \begin{verbatim}
> e <- matrix(1:10, nrow=5, ncol=2)
> e
     [,1] [,2]
[1,]    1    6
[2,]    2    7
[3,]    3    8
[4,]    4    9
[5,]    5   10\end{verbatim}
        \item Matrices are usually associated with numeric data, and usual operations $+$, $-$, $*$, ... work on whole matrices as well
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Indexing data frames, matrices \& arrays}
    \begin{itemize}
        \item Works just like vectors, only in 2 dimensions \\
        {\tt object [ rows , columns ]}
    \end{itemize}
    \begin{verbatim}
a <- data.frame(1:10, letters[1:10], month.name[1:10], stringsAsFactors=FALSE)
names(a) <- c("numbers","letters","months")‏
a
   numbers letters    months
1        1       a   January
2        2       b  February
3        3       c     March
4        4       d     April
5        5       e       May
6        6       f      June
7        7       g      July
8        8       h    August
9        9       i September
10      10       j   October\end{verbatim}

\textbf{ADD BOX, FIX WRAP}
\end{frame}

\begin{frame}[fragile,shrink]{R Objects}
    \framesubtitle{{\tt list(name1=obj1,name2=obj2,...)}}
    \begin{itemize}
        \item Lists
        \begin{itemize}
            \item Store collections of R objects
            \begin{itemize}
                \item List members (items) can be of any R object, or data type.
        \begin{verbatim}
a <- 1:10
b <- matrix(runif(100),ncol=10,nrow=10)
c <- data.frame(a,month.name[1:10])

myList<-list( ls.obj.1=a, ls.obj.2=b, ls.obj.3=c)
summary(myList)
names(myList)\end{verbatim}
            \end{itemize}
            \item Using dollar notation(\$), we can address list items directly, by name, as with columns of a data frame
            {\tt myList\$ls.obj.1}
            \item Alternatively, {\tt myList[[1]]} to get first item in the list
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{R Objects}
    \framesubtitle{factor(obj, levels=..., labels=...)}
    \begin{itemize}
        \item Factors
        \begin{itemize}
            \item Factors store categorical data
            \item categorical data is usually expressed in levels
            \begin{itemize}
                \item They are especially useful where repetition is found
                \item Exercise may take place on any day of the week \\
                {\tt The factor is exercise, and levels are week day names}
                \item A gene may be deleted, lost, normal, gained or amplified \\
                {\tt The factor is gene copy number, and levels are -2, -1, 0, 1, 2}
            \end{itemize}
            \item Factors require a good understanding of data dependency
            \item Experiments often have multiple explanatory variables, and it is interesting to observe interactions between them
            \item Factors are similar to `enumerated data types' in other languages
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Operators}
    \begin{itemize}
        \item arithmetic \\
        {\tt +, -, *, /, } 
        \item comparison \\
        {\tt <, >, =<, >=, ==, !=}
        \item logical \\
        {\tt !, \&, |, xor} \\
        (not, and, or, exclusive or)
    \end{itemize}
    \textbf{ADD POWER SYMBOL}
\end{frame}

\begin{frame}[fragile,shrink]{Advanced indexing / subscripting vectors}
    \begin{itemize}
        \item Indexing / subscripting
        \begin{itemize}
            \item The process of referencing a particular data value stored in an R object
        \end{itemize}
        \item Indexing can be achieved either with numbers or logicals, e.g.:
        \begin{verbatim}
> s <- letters[1:5]
> s[c(1,3)]
[1] "a" "c"
> s[c(TRUE, FALSE, TRUE, FALSE, FALSE)]
[1] "a" "c"\end{verbatim}
    \item Or, with expression resulting in either numbers or logicals:
    \begin{verbatim}
> a <- 1:5
> s[a[1:4]] # range expression, answer is a to d
> s[a<3] # first 2 items, returns a, b
> s[a>1 & a<3] # answer is 2, returns b\end{verbatim}
    \end{itemize}
\end{frame}

\begin{frame}[fragile,shrink]{Exercise: objects \& indexing}
    \textbf{FIX OVERFLOW}
    \begin{columns}[t]
        \begin{column}{5cm}
            Construct your phonebook from 5 vectors (make up the data). \\
            First name \\
            Character vector: {\tt firstName} \\
            Second name \\
            Character vector: {\tt secondName} \\
            Telephone number \\
            Numeric vector: {\tt telNumber} \\
            Listed in directory \\
            Logical vector: {\tt notListed} \\
            {\tt    i.e. TRUE or FALSE} \\
            Full name \\
            Character vector: {\tt fullName} \\
            {\tt fullName <- paste(firstName,secondName)} \\
            Combine vectors into a single {\tt phoneBook} dataframe
        \end{column}
        \begin{column}{5cm}
            Use your phonebook to extract the following data items
            \begin{enumerate}
                \item Telephone numbers of people with second names beginning with letters below M
                {\tt  phoneBook\$secondName < "M"}
                \item Telephone numbers of people not listed in a directory
                {\tt  phoneBook\$notListed == TRUE}
                \item Telephone numbers of all odd row people
                {\tt  seq(1,10,2)}
            \end{enumerate}
            Some tips for the indexing expression are given.
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}[fragile,shrink]{One solution}
\begin{verbatim}
> firstName<-c("Adam","Eve","John","Mary","Peter","Paul","Luke",
+	"Matthew","David","Sally")‏
> length(firstName)‏
[1] 10
> secondName<-c("Tiny","Large","Small","Davis","Thumb","Daniels",
+	"Edwards","Smith","Howkins","Dutch")‏
> length(secondName)‏
[1] 10
> telNumber<-c(111111,222222,333333,444444,555555,666666,777777,888888,121212,232323)‏
> length(telNumber)‏
[1] 10
> notListed<-c(TRUE,FALSE,TRUE,FALSE,TRUE,FALSE,TRUE,FALSE,TRUE,FALSE)‏
> length(notListed)‏
[1] 10
> phoneBook<-data.frame(firstName,secondName,paste(firstName,secondName),telNumber,notListed, 
                        stringsAsFactors=FALSE)‏
> names(phoneBook)<-c("First_Name","Second_Name","Full_Name","Tel_Number","Not_Listed")‏
> phoneBook
   First_Name Second_Name     Full_Name Tel_Number Listed
1        Adam        Tiny     Adam Tiny     111111   TRUE
2         Eve       Large     Eve Large     222222  FALSE
3        John       Small    John Small     333333   TRUE
4        Mary       Davis    Mary Davis     444444  FALSE
5       Peter       Thumb   Peter Thumb     555555   TRUE
6        Paul     Daniels  Paul Daniels     666666  FALSE
7        Luke     Edwards  Luke Edwards     777777   TRUE
8     Matthew       Smith Matthew Smith     888888  FALSE
9       David     Howkins David Howkins     121212   TRUE
10      Sally       Dutch   Sally Dutch     232323  FALSE\end{verbatim}
\textbf{ADD BOXES}
\end{frame}

\begin{frame}[fragile,shrink]{LUNCH}
Lunch
\end{frame}

\begin{frame}[fragile,shrink]{R Commands \& flow control}
Commands
\end{frame}


\begin{frame}[fragile,shrink]{}
    \begin{itemize}
        \item
        \begin{verbatim}
        \end{verbatim}
    \end{itemize}
\end{frame}

\end{document}