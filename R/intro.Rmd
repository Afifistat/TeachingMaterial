# Introduction

## Pre-requisites

`variables` are used to store values: they bind a value to a name. The
content of a variable can be accessed by typing its name on the R
console prompt. Its content can also be overwritten.


```{r}
x
x <- 1
y <- 1:10
z <- "foo"
x
x <- 2
x
```

All these variables live in your works the global environment. They
can be listed with `ls()`. Variables can be deleted with
`rm()`. `ls()` and `rm()` are functions that take an input (as in
`rm(x)`; `ls()` is called without any explicit input values) and
either return a value (`ls()` returns the names of all existing
variables) or have side effects (`rm(x)` deletes the variable `x`).


```{r}
environment()
ls()
rm(x)
ls()
```

`R` comes with a *limited* functionality. Thousands of third-pary
**packages** can be downloaded from on-line repositories (like CRAN)
and automatically installed with
`install.packages("newpackage")`. Packages are installed in specific
directories called **libraries** and can be loaded using
`library("newpackage")`.

```{r, eval=FALSE}
install.packages("devtools")
library("devtools")
```

To see what packages are available, one can use `installed.packages()`.

```{r}
allpkgs <- installed.packages()
nrow(allpkgs)
```

```{r, eval=FALSE}
head(allpkgs)
```

`R` comes with a extensive help system. Type `helps.start()` to start
the HTML version of `R`'s online documentation. Each function comes
with its dedicated manual that can be accessed using `help("ls")` or
`?ls`. Reading the `ls` manual, we see that we can provide it with a
`list` input, i.e. *a character vector naming objects to be
removed*. Below, we generate this list of variable (object) names with
`ls()` and pass it directly as input to `rm()` to get a clean
workspace.

```{r}
ls()
rm(list=ls())
ls()
```

To get all the details about a package and its documentation:

```{r, eval=FALSE}
packageDescription("devtools")
help(package = "devtools)"
```

## `R` is

### a dynamic language

```{r}
a <- 1L
mode(a)
typeof(a)
class(a)

b <- 1
mode(b)
typeof(b)
class(b)

a+b
```
### a functional programming language 

Functions are *first class citizens*. Use function (outputs) as inputs
to other functions (see the `rm(list = ls())` example above), to create other variables, ... we will make use of this throughout the workshop. More details [here](https://github.com/lgatto/R-functional-programming#readme).

### lazy

Calling a function with argument *wait for 3 seconds* takes no time to return
```{r}
f <- function(x) { 10 }
system.time(f(Sys.sleep(3)))
```

unless we *force* evaluation

```{r}
f <- function(x) { force(x); 10 }
system.time(f(Sys.sleep(3)))
```

(Example originally from Hadley Wickham's devtools page)

### object-oriented

with multiple frameworks: S3, S4 and S4 reference classes

## Data structures

|        | dimensions/length | content types |
|--------|------------|---------------|
| vector | 1          | 1             |
| matrix | 2          | 1             |
| array  | n          | 1             |
| list   | 1          | `length(l)`   |
| data.frame | 2      | `ncol(dfr)`   |

- vectors
- numerics, characters, logicals, factors
- matrix
- array
- list
- data.frame
- special values: `NULL`, `NA`, `NaN`

### Objects

As in OO programming:

```{r}
class(x <- rnorm(100))
y <- rnorm(100)
class(1L)
class("123")
class(sum)
class(lm(y ~ x))
```

